(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5847904"],{"4c79":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("b775"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["b"])("/api/v1/admin/products",{page:t})},i=function(t){return Object(r["c"])("/api/v1/admin/products",t)},o=function(t){return Object(r["b"])("/api/v1/admin/products/"+t)},c=function(t,e){return Object(r["d"])("/api/v1/admin/products/"+t,e)},l=function(t){return Object(r["a"])("/api/v1/admin/products/"+t)}},"4f9c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:t.toEdit}},[t._v("新增")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"80"}}),n("el-table-column",{attrs:{prop:"name",label:"名字",align:"center"}}),n("el-table-column",{attrs:{label:"分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.productCategory?e.row.productCategory.name:"暂无分类"))])]}}])}),n("el-table-column",{attrs:{label:"主图",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{"max-width":"150px","max-height":"150px"},attrs:{src:t._f("dalImg")(e.row.coverImg),alt:e.row.name}})]}}])}),n("el-table-column",{attrs:{prop:"price",label:"价格",width:"80",align:"center"}}),n("el-table-column",{attrs:{prop:"quantity",label:"库存",width:"80",align:"center"}}),n("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{"margin-right":"1rem"},attrs:{icon:"el-icon-edit",type:"info",size:"mini"},on:{click:function(n){return t.editOne(e.row)}}}),n("el-popconfirm",{attrs:{title:"是否确认删除此项"},on:{onConfirm:function(n){return t.delOne(e.row)}}},[n("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",size:"mini",type:"danger"},slot:"reference"})],1)]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.pageChanged}})],1)},a=[],i=(n("96cf"),n("1da1")),o=n("4c79"),c={name:"ProductsList",data:function(){return{listLoading:!1,list:[],total:0}},created:function(){this.listLoading=!0,this.pageChanged(1)},methods:{pageChanged:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.list=[],n.next=3,Object(o["c"])(t);case 3:r=n.sent,e.listLoading=!1,e.list=r.products,e.total=r.totalCount;case 7:case"end":return n.stop()}}),n)})))()},toEdit:function(){this.$router.push({name:"ProductEdit"})},editOne:function(t){this.$router.push({name:"ProductEdit",query:{id:t._id}})},delOne:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(o["a"])(t._id);case 2:e.pageChanged(1);case 3:case"end":return n.stop()}}),n)})))()}}},l=c,u=n("2877"),s=Object(u["a"])(l,r,a,!1,null,null,null);e["default"]=s.exports}}]);